<app-container-padrao>

    @if (isLoading()) {
    <div class="flex justify-center items-center py-32">
        <div class="w-12 h-12 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"></div>
    </div>
    }
    @else if (noticia(); as item) { <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12 mt-[168px] mb-12">

        <main class="lg:col-span-8">
            <nav class="w-full mb-6 text-sm">
                <ol class="list-reset flex text-gray-500">
                    <li>
                        <a [routerLink]="['/']" class="hover:text-emerald-600 transition-colors">Home</a>
                    </li>
                    <li><span class="mx-2 text-gray-400">></span></li>
                    <li>
                        <a [routerLink]="['/noticias']" class="hover:text-emerald-600 transition-colors">Not√≠cias</a>
                    </li>
                    <li><span class="mx-2 text-gray-400">></span></li>
                    <li class="text-gray-800 font-medium truncate max-w-[150px] md:max-w-[300px]">
                        {{ item.titulo }}
                    </li>
                </ol>
            </nav>

            <header class="mb-8">
                <h1 class="text-3xl md:text-4xl font-bold text-azul-coe-escurissimo leading-tight mb-4">
                    {{ item.titulo }}
                </h1>

                @if (item.subtitulo) {
                <p class="text-lg text-texto-conteudo-terciario font-normal leading-relaxed mb-4">
                    {{ item.subtitulo }}
                </p>
                }

                <div class="flex items-center gap-4 text-sm text-gray-500 uppercase font-extrabold pb-4">
                    <span>Por {{ item.autor }}</span>
                </div>
                <div
                    class="flex items-center gap-4 text-sm text-gray-500 uppercase font-bold border-b border-gray-200 pb-6">
                    <span>{{ item.data | date: "d 'de' MMMM 'de' y" }}</span>
                </div>
            </header>

            <figure class="mb-2 overflow-hidden rounded-xl">
                <img [src]="item.imagem" [alt]="item.titulo" class="w-full object-cover max-h-[500px]">
                <figcaption class="mt-3 text-sm text-gray-500 text-left leading-snug">
                    Divulga√ß√£o/TCU
                </figcaption>
            </figure>

            <article
                class="text-texto-conteudo-primario text-lg leading-relaxed text-justify space-y-6 mt-8 whitespace-pre-line"
                [innerHTML]="item.conteudo">
            </article>

            <div class="mt-12 pt-8 border-t border-gray-200">
                <a routerLink="/noticias">
                    <button
                        class="flex items-center text-emerald-600 font-bold hover:text-emerald-700 transition-colors gap-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                        </svg>
                        Voltar para not√≠cias
                    </button>
                </a>
            </div>
        </main>

        <aside class="hidden lg:block lg:col-span-4 space-y-8 sticky top-[168px] self-start">
            @if (proximoEvento(); as evento) {
            <div class="bg-white rounded-xl shadow-lg p-4 border border-gray-200">

                <span class="bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-1 rounded mb-2 inline-block">
                    Pr√≥ximo evento
                </span>

                <a [routerLink]="['/eventos', evento.slug]" class="block group overflow-hidden rounded-lg mb-3 h-40">
                    <img [src]="evento.imagemUrl" [alt]="evento.titulo"
                        class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                </a>

                <h4 class="font-bold text-gray-900 leading-tight mb-2 group-hover:text-blue-600 transition-colors">
                    <a [routerLink]="['/eventos', evento.slug]">
                        {{ evento.titulo }}
                    </a>
                </h4>

                <div class="text-sm text-gray-600 space-y-1 mb-4">
                    <p>üìÖ {{ evento.dataInicio | date:'dd/MM/yyyy' }}</p>
                    <p>üìç {{ evento.local }}</p>
                </div>

                <a [routerLink]="['/eventos', evento.slug]"
                    class="block w-full text-center bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-bold py-2 rounded text-sm transition-colors cursor-pointer">
                    Inscrever-se
                </a>

            </div>
            }

        </aside>

    </div>

    } @else {
    <div class="flex flex-col items-center justify-center py-32 text-center">
        <h2 class="text-2xl font-bold text-gray-700">Not√≠cia n√£o encontrada</h2>
        <a routerLink="/noticias" class="text-emerald-600 hover:underline mt-4">Voltar para a lista</a>
    </div>
    }

</app-container-padrao>