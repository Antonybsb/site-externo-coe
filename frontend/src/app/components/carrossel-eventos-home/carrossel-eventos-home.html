<section class="mt-8">

    <div class="flex flex-col items-center  md:mx-6">

        <div
            class="relative w-full max-w-[842px] h-[500px] md:h-[253px] md:rounded-3xl overflow-hidden shadow-lg bg-white">

            <div class="flex h-full transition-transform duration-500 ease-out"
                [style.transform]="'translateX(-' + (indiceAtual() * 100) + '%)'">

                @for (evento of eventos; track evento.id; let i = $index) {

                <div class="min-w-full h-full relative">

                    @if (evento.tipo === 'imagem') {
                    <a [routerLink]="[evento.link]" class="block w-full h-full cursor-pointer">
                        <img [src]="evento.imagem" [alt]="evento.titulo" class="w-full h-full object-cover">
                    </a>
                    }

                    @if (evento.tipo === 'padrao') {
                    <div class="relative w-full h-full flex flex-col md:block">

                        <div class="absolute top-0 right-0 left-0 md:left-[280px] h-[200px] md:h-full bg-cover bg-center z-0"
                            [style.background-image]="'url(' + evento.imagem + ')'">

                            <div class="hidden md:block absolute inset-0 bg-gradient-to-r from-white/20 to-transparent">
                            </div>
                            <div
                                class="md:hidden absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent">
                            </div>
                        </div>

                        <div class="hidden md:block absolute top-0 left-0 h-full w-auto z-10 pointer-events-none">
                            <svg class="h-full w-auto" viewBox="0 0 406 253" fill="none" preserveAspectRatio="none">
                                <path
                                    d="M0 9.99999C0 4.47715 4.47715 0 10 0H302.282C304.248 0 306.17 0.579191 307.808 1.66521L401.138 63.5377C405.552 66.4642 406.919 72.3252 404.255 76.9028L304.655 248.028C302.863 251.106 299.569 252.999 296.008 252.997L9.99556 252.87C4.47445 252.868 0 248.392 0 242.87V9.99999Z"
                                    fill="#407C5F" />
                            </svg>
                        </div>

                        <div class="hidden md:block absolute top-0 left-0 h-full w-auto z-20 pointer-events-none">
                            <svg class="h-full w-auto" viewBox="0 0 359 253" fill="none" preserveAspectRatio="none">
                                <path
                                    d="M0 10C0 4.47715 4.47715 0 10 0H284.725C287.291 0 289.758 0.986078 291.617 2.75428L355.274 63.3037C358.631 66.4963 359.355 71.5762 357.025 75.5797L256.653 248.03C254.862 251.107 251.571 253 248.01 253H9.99999C4.47715 253 0 248.523 0 243V10Z"
                                    fill="#F2F2F2" />
                            </svg>
                        </div>

                        <div
                            class="relative z-30 h-full flex flex-col justify-start pt-[210px] md:pt-6 px-6 md:pl-8 md:pr-2 w-full md:w-[380px]">

                            <h2 class="text-xl md:text-2xl font-bold text-texto-conteudo-primario mb-3 leading-tight line-clamp-2 overflow-hidden text-ellipsis max-w-full md:max-w-[240px]"
                                title="{{ evento.titulo }}">
                                {{ evento.titulo }}
                            </h2>

                            <div class="space-y-2 mb-6">
                                <div class="flex items-center gap-3 text-texto-conteudo-primario font-medium text-sm">
                                    <svg width="20" height="21" viewBox="0 0 20 21" fill="none">
                                        <path
                                            d="M16.5825 1.635H14.895V0.75C14.895 0.3375 14.5575 0 14.145 0C13.7325 0 13.395 0.3375 13.395 0.75V1.635H5.9625V0.75C5.9625 0.3375 5.625 0 5.2125 0C4.8 0 4.4625 0.3375 4.4625 0.75V1.635H2.7825C1.245 1.635 0 2.88 0 4.4175V18.2175C0 19.7475 1.245 21 2.7825 21H16.5825C18.12 21 19.365 19.7475 19.365 18.2175V4.4175C19.365 2.88 18.12 1.635 16.5825 1.635ZM2.7825 3.135H4.47V4.02C4.47 4.4325 4.8075 4.77 5.22 4.77C5.6325 4.77 5.97 4.4325 5.97 4.02V3.135H13.4025V4.02C13.4025 4.4325 13.74 4.77 14.1525 4.77C14.565 4.77 14.9025 4.4325 14.9025 4.02V3.135H16.59C17.295 3.135 17.8725 3.7125 17.8725 4.4175V7.215H1.5V4.4175C1.5 3.705 2.0775 3.135 2.7825 3.135ZM16.5825 19.5H2.7825C2.0775 19.5 1.5 18.9225 1.5 18.2175V8.715H17.865V18.2175C17.865 18.9225 17.2875 19.5 16.5825 19.5Z"
                                            fill="#3A71C7" />
                                    </svg>
                                    <span>{{ evento.data }}</span>
                                </div>
                                <div class="flex items-center gap-3 text-texto-conteudo-primario font-medium text-sm">
                                    <svg width="21" height="21" viewBox="0 0 21 21" fill="none">
                                        <path
                                            d="M10.2 0C4.575 0 0 4.575 0 10.2C0 15.825 4.575 20.4 10.2 20.4C15.825 20.4 20.4 15.825 20.4 10.2C20.4 4.575 15.825 0 10.2 0ZM10.2 18.9C5.4 18.9 1.5 15 1.5 10.2C1.5 5.4 5.4 1.5 10.2 1.5C15 1.5 18.9 5.4 18.9 10.2C18.9 15 14.9925 18.9 10.2 18.9Z"
                                            fill="#3A71C7" />
                                        <path
                                            d="M10.8827 9.79481V3.8998C10.8827 3.4873 10.5452 3.1498 10.1327 3.1498C9.72017 3.1498 9.38268 3.4873 9.38268 3.8998V10.1998C9.38268 10.4473 9.51017 10.6873 9.72017 10.8223L12.8702 12.9223C12.9977 13.0048 13.1402 13.0498 13.2827 13.0498C13.5227 13.0498 13.7627 12.9298 13.9052 12.7123C14.1377 12.3673 14.0402 11.9023 13.6952 11.6698L10.8827 9.79481Z"
                                            fill="#3A71C7" />
                                    </svg>
                                    <span>{{ evento.horario }}</span>
                                </div>
                                <div class="flex items-center gap-3 text-texto-conteudo-primario font-medium text-sm">
                                    <svg width="18" height="21" viewBox="0 0 18 21" fill="none">
                                        <path
                                            d="M8.8725 21C8.73 21 8.58 20.955 8.46 20.8725C8.115 20.64 0 15.1575 0 8.3325C0 3.735 3.9825 0 8.8725 0C13.7625 0 17.745 3.735 17.745 8.3325C17.745 15.1575 9.63 20.64 9.285 20.8725C9.165 20.955 9.015 21 8.8725 21ZM8.8725 1.5C4.8075 1.5 1.5 4.5675 1.5 8.3325C1.5 13.53 7.26 18.1425 8.8725 19.3275C10.485 18.135 16.245 13.53 16.245 8.3325C16.245 4.5675 12.9375 1.5 8.8725 1.5Z"
                                            fill="#3A71C7" />
                                        <path
                                            d="M8.8725 12.33C6.9675 12.33 5.415 10.7775 5.415 8.8725C5.415 6.9675 6.9675 5.415 8.8725 5.415C10.7775 5.415 12.33 6.9675 12.33 8.8725C12.33 10.7775 10.7775 12.33 8.8725 12.33ZM8.8725 6.915C7.7925 6.915 6.915 7.7925 6.915 8.8725C6.915 9.9525 7.7925 10.83 8.8725 10.83C9.9525 10.83 10.83 9.9525 10.83 8.8725C10.83 7.7925 9.9525 6.915 8.8725 6.915Z"
                                            fill="#3A71C7" />
                                    </svg>
                                    <span>{{ evento.local }}</span>
                                </div>
                            </div>

                            <div>
                                <button [routerLink]="[evento.link]"
                                    class="bg-backgroud-suporte-sucesso hover:bg-emerald-500 text-white text-sm font-bold py-2 px-4 rounded shadow-md transition-colors w-full md:w-auto text-center">
                                    Página do evento
                                </button>
                            </div>
                        </div>
                    </div>
                    }

                </div>
                }
            </div>
        </div>

        <div class="flex items-center justify-center gap-6 mt-6">
            <button (click)="anterior()"
                class="p-2 text-gray-400 hover:text-azul-coe-escurissimo transition-colors hover:bg-gray-100 rounded-full"
                aria-label="Banner anterior">
                <svg width="10" height="16" viewBox="0 0 10 16" fill="none">
                    <path d="M8.5 15L1.5 8L8.5 1" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
            </button>
            <div class="flex items-center gap-2">
                @for (evento of eventos; track evento.id; let i = $index) {
                <button (click)="indiceAtual.set(i); iniciarRotacaoAutomatica()"
                    class="rounded-full transition-all duration-300" [class.w-8]="i === indiceAtual()"
                    [class.h-2]="i === indiceAtual()" [class.bg-azul-coe-escurissimo]="i === indiceAtual()"
                    [class.w-2]="i !== indiceAtual()" [class.h-2]="i !== indiceAtual()"
                    [class.bg-gray-300]="i !== indiceAtual()" [class.hover:bg-gray-400]="i !== indiceAtual()"
                    [aria-label]="'Ir para o banner ' + (i + 1)"></button>
                }
            </div>
            <button (click)="proximo()"
                class="p-2 text-gray-400 hover:text-azul-coe-escurissimo transition-colors hover:bg-gray-100 rounded-full"
                aria-label="Próximo banner">
                <svg width="10" height="16" viewBox="0 0 10 16" fill="none">
                    <path d="M1.5 1L8.5 8L1.5 15" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
            </button>
        </div>

    </div>

</section>